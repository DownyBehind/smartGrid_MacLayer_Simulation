[General]
network = csma_ca_hpgp.SimpleNetworkNoChannel
sim-time-limit = 120s

# Load project NEDs
ned-path = .:../..

# Output files
output-scalar-file = results/baseline_wc_a_nodes5_${configname}.sca
output-vector-file = results/baseline_wc_a_nodes5_${configname}.vec

[Config Baseline_WC_A_Sequential_SLAC_5Nodes]
description = "Baseline WC-A: Sequential SLAC trains (CAP3 continuous occupancy) - 5 Nodes"
*.numNodes = 5

# Scenario parameter
*.node[*].hpgpMac.scenario = "WC_A_Sequential"

# Run configuration
repeat = 30

# Channel configuration - MAC+Channel (realistic channel effects)
*.channelManager.per = 1e-3
*.channelManager.impulseNoiseEnabled = true
*.channelManager.ispBusyEnabled = true
*.channelManager.impulseDuration = 1ms
*.channelManager.ispBusyProbability = 0.1
*.channelManager.ispBusyMeanDuration = 2ms

# MAC parameters for aggressive CAP3
*.node[*].hpgpMac.priorityGroup = "CA23"
*.node[*].hpgpMac.bpcMax = 4
*.node[*].hpgpMac.cifs = 35.84us
*.node[*].hpgpMac.rifs = 26us
*.node[*].hpgpMac.prs0 = 35.84us
*.node[*].hpgpMac.prs1 = 35.84us
*.node[*].hpgpMac.slotTime = 35.84us

# Node configuration
*.node[0].hpgpMac.nodeType = "EVSE"
*.node[1..4].hpgpMac.nodeType = "EV"

# DC loop parameters
*.node[*].hpgpMac.dcLoopEnabled = true
*.node[*].hpgpMac.dcPeriod = 100ms
*.node[*].hpgpMac.dcDeadline = 100ms
*.node[*].hpgpMac.dcRspDelay = 1.5ms
*.node[*].hpgpMac.dcRspJitter = 0ms

# Logging parameters
*.node[*].hpgpMac.recordTxAttempts = true
*.node[*].hpgpMac.recordCollisions = true
*.node[*].hpgpMac.recordSlacMessages = true
*.node[*].hpgpMac.recordDcCycles = true

# Statistics recording
*.node[*].hpgpMac.dcCycle:vector = true
*.node[*].hpgpMac.slacAttempt:vector = true
*.node[*].hpgpMac.txAttempt:vector = true
*.node[*].hpgpMac.collision:vector = true

# SLAC detailed parameters for continuous flow
*.node[*].hpgpMac.nStartAtten = 3
*.node[*].hpgpMac.nMsound = 3
*.node[*].hpgpMac.gapStart = 1ms
*.node[*].hpgpMac.gapMsound = 1ms
*.node[*].hpgpMac.delayEvseRsp = 1ms
*.node[*].hpgpMac.gapAttn = 1ms
*.node[*].hpgpMac.gapMatch = 1ms
*.node[*].hpgpMac.slacMsgTimeout = 10ms
*.node[*].hpgpMac.slacProcTimeout = 100ms
*.node[*].hpgpMac.slacMaxRetry = 5
*.node[*].hpgpMac.slacRetryBackoff = 1ms
